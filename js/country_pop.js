Plotly.d3.csv("https://raw.githubusercontent.com/plotly/datasets/master/finance-charts-apple.csv", function(err, rows){

  function unpack(rows, key) {
  return rows.map(function(row) { return row[key]; });
}

  
var USA = {
  type: "scatter",
  mode: "lines",
  x: [1980,1981,1982,1983,1984,1985,1986,1987,1988,1989,1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016],
  y: [22.87252767, 12.71218111, 23.91196615, 21.42474007, 21.740811  ,
       18.56711561, 16.9104185 , 19.01859143, 19.33626108, 17.78718176,
       24.45249004, 16.04597684, 28.18328692, 20.55427224, 28.50759168,
       19.8883018 , 15.71422054, 18.99699004, 17.70590219, 15.09081428,
       13.7651692 , 14.99959864, 19.11242469, 20.52963162, 23.2439926 ,
       15.76407152, 17.32916378, 20.40062401, 20.72313913, 21.44280023,
       24.36572065, 23.3475055 , 27.89041392, 33.33995991, 35.39228987,
       40.82734885, 40.99167131],
  line: {color: '#17BECF'}
}

var France = {
  type: "scatter",
  mode: "lines",
  x: [1980,1981,1982,1983,1984,1985,1986,1987,1988,1989,1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016],
  y: [ 16.245779  ,  21.189028  , 101.74155   ,   7.222985  ,
        13.63676167,  17.5121828 ,   1.410387  ,  31.5259855 ,
        14.946668  ,  20.135317  ,  14.52930933,  30.54227767,
        18.351686  ,   8.90077314,  14.6091073 ,  22.73583055,
        14.53306433,  18.9873874 ,  26.736536  ,  11.38403544,
         8.65055   ,  22.7622199 ,  22.40992622,  30.78991933,
        42.22930579,  19.84550575,  16.83805975],
  line: {color: '#7F7F7F'}
}

var data = [USA,France];
    
var layout = {
  title: 'Country average movie pop', 
  xaxis: {
    range: ['1980', '2016'], 
    type: 'date'
  }, 
  yaxis: {
    autorange: true, 
    range: [0, 50], 
    type: 'linear'
  }
};

Plotly.newPlot('myDiv', data, layout, {showSendToCloud: true});
})
